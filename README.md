# ไมโครคอลโทรลเลอร์และการใช้งาน (APPLICATIONS OF MICROCONTROLLERS)
## รหัสวิชา 03376126

## เนื้อหาตามหลักสูตร

ศึกษาและปฏิบัติในหัวข้อ สถาปัตยกรรมไมโครคอนโทรลเลอร์ การเชื่อมต่อแอนะล็อกและดิจิทัลเข้ากับไมโครคอนโทรลเลอร์ การเขียนโปรแกรมไมโครคอนโทรลเลอร์ การนำเฟิร์มแวร์เข้าสู่ไมโครคอนโทรลเลอร์ การแก้ปัญหา การประยุกต์ใช้งานผ่านการทำโครงงาน

Study and practice in Microcontroller architecture, Microcontroller interfacing, Programming, Development process, Problem-solving, Project-based applications

## แผนการเรียนรายสัปดาห์

|หัวข้อ|ทฤษฎี (2 ชม.)|ปฏิบัติ (2 ชม.)|
|---|---|---|
| 1 แนะนำไมโครคอนโทรลเลอร์และเครื่องมือเบื้องต้น |<li>ความรู้เบื้องต้นเกี่ยวกับไมโครคอนโทรลเลอร์, ความสำคัญ, การทำงานพื้นฐาน<br><li>สถาปัตยกรรมพื้นฐานของไมโครคอนโทรลเลอร์|<li>แนะนำเว็บไซต์ WOKWI การใช้งานเบื้องต้น, การสร้างวงจรจำลองง่ายๆ (ESP32)<br><li>ทดลองเขียนโปรแกรม "Hello World" บน WOKWI (จำลอง Serial Monitor)|
|2 Programming Model และสถาปัตยกรรม|<li>ตัวแบบการโปรแกรม (Programming Model)<br><li>สถาปัตยกรรมไมโครโพรเซสเซอร์และไมโครคอนโทรลเลอร์|<li>การสร้างโปรเจ็กต์ใน WOKWI (ESP32 Dev Module)<br><li>การสำรวจข้อมูลในหน่วยความจำเบื้องต้น|
|3 พื้นฐานการเขียนโปรแกรมไมโครคอนโทรลเลอร์|<li>โครงสร้างพื้นฐานของโปรแกรม (setup(), loop())<br><li>ประเภทข้อมูล (int, float, char, Boolean), ตัวแปร, ค่าคงที่<br><li>ตัวดำเนินการทางคณิตศาสตร์, ตรรกะ, เปรียบเทียบ<br><li>คำสั่งควบคุมการทำงาน: if-else, switch-case|<li>ฝึกการเชื่อมต่อวงจร (บน WOKWI)<br><li>ฝึกการใช้งานภาษาโปรแกรมในหัวข้อที่กล่าวถึงในภาคทฤษฎี|
|4 คำสั่งควบคุมการวนซ้ำและการใช้งาน Digital I/O | <li>คำสั่งควบคุมการวนซ้ำ: for loop, while loop, do-while loop<br><li>ฟังก์ชัน pinMode(), digitalWrite(), digitalRead()<br><li>แนวคิด Pull-up/Pull-down resistor สำหรับปุ่มกด| ทดลองเขียนโปรแกรมควบคุม LED แบบซับซ้อนขึ้น (เช่น วนกระพริบหลายดวง เป็นรูปแบบต่าง ๆ ) (บน WOKWI)|<li>จำลองการต่อปุ่มกดและอ่านสถานะปุ่มกด (บน WOKWI)<br><li>เขียนโปรแกรมควบคุม LED ด้วยปุ่มกด (เปิด/ปิด, สลับสถานะ)|
|5 การใช้งาน Analog I/O และการจัดการเวลา|<li>การแปลงสัญญาณ Analog เป็น Digital (ADC)<br><li>ฟังก์ชัน analogRead(), analogWrite() และการใช้งาน PWM<br><li>การจัดการเวลาเช่น delay(), millis(), micros()|<li>จำลองการอ่านค่าจาก Potentiometer (ตัวต้านทานปรับค่าได้) บน WOKWI<br><li>เขียนโปรแกรมควบคุมความสว่าง LED โดยใช้ค่าจาก Potentiometer บน WOKWI<br><li>ทดลองสร้าง LED Fading (ค่อยๆ สว่างขึ้น/หรี่ลง ด้วย PWM)|
|6  เริ่มต้นใช้งาน ESP32 จริง, Digital I/O|<li>โครงสร้างขาของ ESP32 (GPIO pins)<br><li>ข้อควรระวังในการต่อวงจรกับ ESP32 (แรงดันไฟฟ้า, กระแส)<br><li>การใช้ VSCODE เพื่อสร้างโปรแกรมสำหรับ ESP32<br><li>การอัปโหลดโปรแกรมจาก VSCode ไปยัง ESP32| <li>ทดลองต่อ Digital I/O เข้ากับบอร์ด ESP32<br><li>การอัปโหลดโปรแกรมและทดสอบบน ESP32 จริง|
|7 ESP32 Analog I/O และ PWM|<li>ADC ของ ESP32 ความละเอียด, ช่วงการวัด<br><li>PWM ของ ESP32 การกำหนดช่องสัญญาณ, ความถี่, Duty Cycle|<li>ทดลองต่อ Digital I/O เข้ากับบอร์ด ESP32 <br><li>การอัปโหลดโปรแกรมและทดสอบบน ESP32 จริง|
8 การสื่อสารแบบอนุกรม (Serial Communication)
|<li>หลักการสื่อสารแบบ Serial (UART, Baud Rate)<br><li>การใช้งาน Serial Monitor เพื่อสื่อสารระหว่าง ESP32 กับคอมพิวเตอร์|<li>เขียนโปรแกรมส่งค่าจาก ESP32 ไปยัง Serial Monitor<br><li>เขียนโปรแกรมรับค่าจาก Serial Monitor เพื่อควบคุม LED หรือส่งคำสั่งอื่นๆ|
|9 การขัดจังหวะ (Interrupt)|<li>แนวคิดการขัดจังหวะ: ทำไมต้องใช้, ประเภทของ Interrupt (External, Timer)<br><li>ข้อดีของการใช้ Interrupt เมื่อเทียบกับการ Polling<br><li>ข้อควรระวังในการเขียน ISR|<li>ทดลองสร้าง External Interrupt โดยใช้ปุ่มกดเพื่อเปลี่ยนสถานะ LED หรือนับจำนวนการกด<br><li>การเขียน ISR อย่างง่าย|
|10 การเชื่อมต่อหน่วยความจำ (Memory Interfacing)|<li>ประเภทของหน่วยความจำในไมโครคอนโทรลเลอร์ (Flash, RAM, EEPROM)<br><li>การใช้งานหน่วยความจำแบบ Non-volatile (เช่น Preferences ใน ESP32) สำหรับเก็บค่าที่ไม่ต้องการหายเมื่อปิดเครื่อง|<li>ทดลองเก็บค่าสถานะ LED หรือค่าตัวเลขง่ายๆ ลงในหน่วยความจำของ ESP32<br><li>อ่านค่าที่เก็บไว้เมื่อเปิดเครื่องขึ้นมาใหม่|
|11 การเชื่อมต่ออุปกรณ์ I/O อื่นๆ (I2C)|<li>หลักการสื่อสารแบบ I2C (Inter-Integrated Circuit)<br><li>Master-Slave concept, Address<br><li>การใช้งาน Library สำหรับ I2C|<li>ทดลองเชื่อมต่อและอ่านค่าจากเซ็นเซอร์ I2C <br>เช่น DHT11/DHT22 (อุณหภูมิ/ความชื้น) หรือ Gyro/Accelerometer|
|12 การเชื่อมต่ออุปกรณ์ I/O อื่นๆ (SPI)|<li>หลักการสื่อสารแบบ SPI (Serial Peripheral Interface)<br><li>Master-Slave concept, CS (Chip Select)<br><li>การใช้งาน SPI Library|<li>ทดลองเชื่อมต่อและใช้งานโมดูล SD Card หรือหน้าจอ LCD/OLED แบบ SPI<br><li>การเขียนข้อมูลลง SD Card หรือแสดงข้อความบนหน้าจอ|
|13 การหาข้อผิดพลาดและการแก้ไข|li>เทคนิคการ Debugging เบื้องต้น (Serial Print, LED indicators)<br><li>ข้อผิดพลาดที่พบบ่อยในการเขียนโปรแกรมไมโครคอนโทรลเลอร์<br><li>การแก้ปัญหาจาก Error message จาก Compiler/IDE|<li>การ Debug โปรแกรมที่มีข้อผิดพลาดที่เตรียมไว้<br><li>ฝึกวิเคราะห์ปัญหาจากข้อความ Error และพฤติกรรมของฮาร์ดแวร์|
|14 การประยุกต์ใช้งานเบื้องต้น|<li>ภาพรวมของการประยุกต์ใช้ไมโครคอนโทรลเลอร์ในชีวิตประจำวัน (IoT, ระบบควบคุมอัตโนมัติ, หุ่นยนต์)<br><li>แนะนำแนวคิดของการออกแบบโปรเจกต์<br><li>ตัวอย่างโปรเจกต์ง่ายๆ ที่สามารถทำได้ด้วย ESP32|<li>โครงงานย่อย 1 (Mini Project 1)	 เช่น ระบบวัดอุณหภูมิและแสดงผลบน Serial Monitor/LCD<br><li>นักศึกษาเริ่มวางแผนและออกแบบโปรแกรม|
|15 การประยุกต์ใช้งานและโครงงานย่อย|<li>เทคนิคการออกแบบวงจรสำหรับโปรเจกต์<br><li>การเลือกส่วนประกอบที่เหมาะสม<br><li>การเขียนผังงาน (Flowchart) หรือ Pseudocode สำหรับโปรเจกต์ที่ซับซ้อนขึ้น|<li>ดำเนินการโครงงานย่อย 1 ต่อ


## Course Learning Outcomes (CLOs)
|No|CLO|
|---|---|
|CLO-1| มีวินัย ตรงต่อเวลา และความรับผิดชอบต่อตนเองและสังคม
|CLO-2|มีภาวะความเป็นผู้นำและผู้ตาม สามารถทำงานเป็นทีมและสามารถแก้ไขข้อขัดแย้งและลำดับความสำคัญ
|CLO-3 |มีความรู้และความเข้าใจเกี่ยวกับหลักการและทฤษฎีที่สำคัญในเนื้อหา
|CLO-4 |สามารถประยุกต์ความรู้และทักษะกับการแก้ไขปัญหาได้อย่างเหมาะสม
|CLO-5|สามารถให้ความช่วยเหลือและอำนวยความสะดวกแก่การแก้ปัญหาต่างๆ ในกลุ่มทั้งในบทบาทของผู้นำผู้ร่วมทีม
|CLO-6|มีทักษะในการใช้เครื่องมือที่จำเป็นที่มีอยู่ในการทำงานที่เกี่ยวกับไมโครคอนโทรลเลอร์

 ## หมายเหตุ
- เนื้อหาในแต่ละสัปดาห์สามารถปรับเปลี่ยนได้ตามความเหมาะสมและความเข้าใจของนักศึกษา
- มีการผลิตบอร์ด PCB ขึ้นมาใช้ในการเรียนการสอน เพื่อลดความเสียหายหรือสูญหายของอุปกรณ์ต่าง ๆ ซึ่งต้องใช้ระยะเวลาประมาณ 1 เดือน 
ทำให้ต้องเรียนบน WOKWI ไปพลางก่อน
- อาจใช้เวลาเรียนบน เรียนบน WOKWI นานขึ้น ถ้าบอร์ดยังไม่พร้อมใช้ 


